CREATE FUNCTION public."Populate_User"()
    RETURNS trigger
    LANGUAGE 'plpgsql'
    COST 100
    VOLATILE NOT LEAKPROOF 
AS $BODY$BEGIN
	IF new."isTeacher" = true THEN
	INSERT INTO "Teachers"(tid,"createdAt","updatedAt") values(new.userid,new."createdAt",new."updatedAt");
	ELSE
	INSERT INTO "Students"(sid,"createdAt","updatedAt") values(new.userid,new."createdAt",new."updatedAt");
	END IF;
	RETURN new;
END;
$BODY$;

ALTER FUNCTION public."Populate_User"()
    OWNER TO testuser;
    
    
CREATE TRIGGER pop_user
    AFTER INSERT
    ON public."Users"
    FOR EACH ROW
    EXECUTE PROCEDURE public."Populate_User"();
